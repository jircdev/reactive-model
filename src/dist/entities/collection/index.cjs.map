{"version":3,"file":"index.cjs","sources":["../../../node_modules/tslib/tslib.es6.js","../../../modules/entities/collection/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import { Item, ItemId, IEntityProvider, RegistryFactory, IItem } from 'reactive/entities/item';\r\nimport { ReactiveModel, PluginManager } from 'reactive/model';\r\nimport { ICollectionOptions, ICollectionProvider, ILoadSpecs } from './types';\r\n\r\n// Re-export types for external use\r\nexport type { ICollectionProvider, ICollectionOptions, ILoadSpecs };\r\n\r\n/**\r\n * Collection class for managing groups of Items.\r\n * Implements IReactiveContainer for unified reactive value handling.\r\n *\r\n * @template T - Item type (must extend Item)\r\n * @template P - Provider type\r\n */\r\n/**\r\n * Collection class for managing groups of Items.\r\n * Provides IReactiveContainer-like methods but doesn't implement the interface\r\n * directly due to method signature conflicts with ReactiveModel.set().\r\n *\r\n * @template T - Item type (must extend Item)\r\n * @template P - Provider type\r\n */\r\nexport /*bundle*/ class Collection<T extends Item<any, any>, P extends IEntityProvider = IEntityProvider>\r\n\textends ReactiveModel<Collection<T, P>>\r\n{\r\n\tprivate total: number = 0;\r\n\tprivate next: unknown | null = null;\r\n\r\n\t/**\r\n\t * Identifies this as a container type.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\treadonly isContainer: true = true;\r\n\r\n\t/**\r\n\t * Static property for class-level type checking.\r\n\t * @deprecated Use isContainer instance property instead\r\n\t */\r\n\tstatic isContainer = true;\r\n\r\n\t/**\r\n\t * @deprecated Use isContainer instead\r\n\t */\r\n\tget isCollection() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * @deprecated Use isContainer instead\r\n\t */\r\n\tstatic isCollection = true;\r\n\r\n\t/**\r\n\t * Name of the parameter used for pagination cursor (default: \"next\").\r\n\t * Can be configured via the constructor using `nextParamName`.\r\n\t */\r\n\t#nextParamName = 'next';\r\n\t#defaultLimit: number;\r\n\r\n\t/**\r\n\t * Get the total number of items available (if provided by the provider).\r\n\t */\r\n\tpublic getTotal(): number {\r\n\t\treturn this.total;\r\n\t}\r\n\r\n\t/**\r\n\t * Get the value of next page (if provided by the provider).\r\n\t */\r\n\tpublic getNext(): unknown | null {\r\n\t\treturn this.next;\r\n\t}\r\n\r\n\t#entity: string;\r\n\tget entity(): string {\r\n\t\treturn this.#entity;\r\n\t}\r\n\r\n\t#provider: P;\r\n\tget provider(): P {\r\n\t\treturn this.#provider;\r\n\t}\r\n\r\n\t#item: ICollectionOptions<T, P>['item'];\r\n\tget Item(): ICollectionOptions<T, P>['item'] {\r\n\t\treturn this.#item;\r\n\t}\r\n\r\n\t// Internal storage - using Map directly for now, can be swapped to ReactiveMap later\r\n\t#map: Map<ItemId, T> = new Map();\r\n\r\n\t/**\r\n\t * @deprecated Direct map access is deprecated. Use get(id), has(id), or items instead.\r\n\t * Will be removed in v4.0\r\n\t */\r\n\tget map(): Map<ItemId, T> {\r\n\t\tconsole.warn(\r\n\t\t\t'Collection.map is deprecated. Use collection.get(id), collection.has(id), or collection.items instead.'\r\n\t\t);\r\n\t\treturn this.#map;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns all items as an array.\r\n\t */\r\n\tget items(): T[] {\r\n\t\treturn [...this.#map.values()];\r\n\t}\r\n\r\n\t/**\r\n\t * The number of items in the collection.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\tget size(): number {\r\n\t\treturn this.#map.size;\r\n\t}\r\n\r\n\t#filters: ILoadSpecs<T>['where'];\r\n\t#registry: RegistryFactory<T>;\r\n\r\n\tconstructor({\r\n\t\tentity,\r\n\t\tprovider,\r\n\t\titem,\r\n\t\tdefaultLimit = 15,\r\n\t\tnextParamName = 'next',\r\n\t}: ICollectionOptions<T, P> & { nextParamName?: string }) {\r\n\t\tsuper();\r\n\r\n\t\tthis.#entity = entity;\r\n\t\tif (provider && typeof provider !== 'function') {\r\n\t\t\tthrow new Error('Provider must be a class/constructor');\r\n\t\t}\r\n\t\tif (provider) {\r\n\t\t\tthis.#provider = new provider(this);\r\n\t\t}\r\n\t\tthis.#registry = RegistryFactory.getInstance<T>(entity);\r\n\r\n\t\tthis.#registry.on('record.published', this.onNewRegistry.bind(this));\r\n\t\tthis.#registry.on('record.deleted', this.onRegistryDeleted.bind(this));\r\n\t\tthis.#item = item;\r\n\r\n\t\tthis.#defaultLimit = defaultLimit;\r\n\t\tif (nextParamName) this.#nextParamName = nextParamName;\r\n\t}\r\n\r\n\t// ==========================================\r\n\t// IReactiveContainer Implementation\r\n\t// ==========================================\r\n\r\n\t/**\r\n\t * Gets an item by its ID.\r\n\t * Required by IReactiveContainer interface.\r\n\t *\r\n\t * @param id - The item ID to look up\r\n\t * @returns The item or undefined if not found\r\n\t */\r\n\tget(id: ItemId): T | undefined {\r\n\t\treturn this.#map.get(id);\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if an item exists in the collection.\r\n\t * Required by IReactiveContainer interface.\r\n\t *\r\n\t * @param id - The item ID to check\r\n\t */\r\n\thas(id: ItemId): boolean {\r\n\t\treturn this.#map.has(id);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an iterator over the item IDs.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\tkeys(): IterableIterator<ItemId> {\r\n\t\treturn this.#map.keys();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an iterator over the items.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\tvalues(): IterableIterator<T> {\r\n\t\treturn this.#map.values();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns an iterator over [id, item] pairs.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\tentries(): IterableIterator<[ItemId, T]> {\r\n\t\treturn this.#map.entries();\r\n\t}\r\n\r\n\t/**\r\n\t * Executes a callback for each item.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\tforEach(callback: (value: T, key: ItemId) => void): void {\r\n\t\tthis.#map.forEach((value, key) => callback(value, key));\r\n\t}\r\n\r\n\t/**\r\n\t * Clears all items from the collection.\r\n\t * Required by IReactiveContainer interface.\r\n\t */\r\n\tclear(): void {\r\n\t\tif (this.#map.size === 0) return;\r\n\r\n\t\tthis.#map.clear();\r\n\t\tthis.trigger('clear');\r\n\t\tthis.trigger('items.changed');\r\n\t\tthis.trigger('change');\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes an item by ID.\r\n\t * This is the synchronous version required by IReactiveContainer.\r\n\t * For async deletion with provider, use deleteAsync().\r\n\t *\r\n\t * @param id - The item ID to delete\r\n\t * @returns true if the item existed and was deleted\r\n\t */\r\n\tdelete(id: ItemId): boolean {\r\n\t\tif (!this.#map.has(id)) return false;\r\n\r\n\t\tthis.#map.delete(id);\r\n\t\tthis.trigger('items.changed');\r\n\t\tthis.trigger('change');\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// ==========================================\r\n\t// IReactiveValue Implementation (inherited + overrides)\r\n\t// ==========================================\r\n\r\n\t/**\r\n\t * Sets the collection items from an array.\r\n\t * Replaces existing items.\r\n\t * @override\r\n\t */\r\n\tsetValue(values: any): void {\r\n\t\tif (Array.isArray(values)) {\r\n\t\t\tthis.setItems(values, true);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Gets all items as an array.\r\n\t * @override\r\n\t */\r\n\tgetValue(): any {\r\n\t\treturn this.items;\r\n\t}\r\n\r\n\t/**\r\n\t * Serializes all items for JSON output.\r\n\t * Returns an array of serialized item properties.\r\n\t * @override\r\n\t */\r\n\tserialize(): any {\r\n\t\treturn this.getItemProperties();\r\n\t}\r\n\r\n\t/**\r\n\t * Collections don't track unpublished changes in the same way as Items.\r\n\t * Checks if any item has unpublished changes.\r\n\t */\r\n\thasUnpublishedChanges(): boolean {\r\n\t\tfor (const item of this.#map.values()) {\r\n\t\t\tif (item.hasUnpublishedChanges()) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// ==========================================\r\n\t// LIFECYCLE HOOKS - Override in subclasses\r\n\t// ==========================================\r\n\r\n\t/**\r\n\t * Lifecycle hook called before load() executes.\r\n\t * Override to modify load arguments or perform pre-load actions.\r\n\t *\r\n\t * @param args - Arguments to be passed to provider.list()\r\n\t * @returns Modified arguments or original args\r\n\t */\r\n\tprotected async beforeLoad(args: ILoadSpecs<T>): Promise<ILoadSpecs<T>> {\r\n\t\treturn args;\r\n\t}\r\n\r\n\t/**\r\n\t * Lifecycle hook called after load() completes successfully.\r\n\t * Override to transform loaded items or perform post-load actions.\r\n\t *\r\n\t * @param items - Items returned from provider.list()\r\n\t * @returns Modified items array or original items\r\n\t */\r\n\tprotected async afterLoad(items: T[]): Promise<T[]> {\r\n\t\treturn items;\r\n\t}\r\n\r\n\t/**\r\n\t * Load items from the configured provider.\r\n\t * If {@link ILoadSpecs.limit} is omitted, the collection's `defaultLimit`\r\n\t * (configured in the constructor) is used.\r\n\t *\r\n\t * Pagination is handled internally: if the collection has a pagination cursor (\"next\"),\r\n\t * it will be added to the request using the parameter name defined by `nextParamName`.\r\n\t * You do not need to pass the `next` parameter manually.\r\n\t *\r\n\t * Executes lifecycle hooks: beforeLoad -> load -> afterLoad\r\n\t * Runs plugins: onBeforeList -> onAfterList\r\n\t * Emits events: pre:load -> load -> post:load\r\n\t */\r\n\tasync load(args: ILoadSpecs<T> = {}): Promise<T[]> {\r\n\t\t// Ensure pagination defaults\r\n\t\tif (typeof args.limit !== 'number') args.limit = this.#defaultLimit;\r\n\t\tif (this.next) (args as Record<string, unknown>)[this.#nextParamName] = this.next;\r\n\t\tthis.#filters = args.where ?? {};\r\n\t\tthis.fetching = true;\r\n\r\n\t\tif (!this.#provider || typeof (this.#provider as ICollectionProvider).list !== 'function') {\r\n\t\t\tthrow new Error('DataProvider is not defined or does not implement the list() method.');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\t// 1. Execute beforeLoad hook (class method)\r\n\t\t\tlet loadArgs = await this.beforeLoad(args);\r\n\r\n\t\t\t// 2. Execute plugins beforeList\r\n\t\t\tconst pluginResult = await PluginManager.runHook('onBeforeList', this, loadArgs, this.#entity);\r\n\t\t\tloadArgs = pluginResult.value as ILoadSpecs<T>;\r\n\r\n\t\t\t// 3. Emit pre:load event\r\n\t\t\tthis.trigger('pre:load', loadArgs);\r\n\r\n\t\t\t// 4. Execute provider list\r\n\t\t\tconst data = await (this.#provider as ICollectionProvider).list(loadArgs);\r\n\t\t\tlet entries: T[];\r\n\t\t\tconst shouldUpdate = !!loadArgs.update;\r\n\r\n\t\t\tif (Array.isArray(data)) {\r\n\t\t\t\tentries = data as T[];\r\n\t\t\t\tthis.total = 0;\r\n\t\t\t\tthis.next = null;\r\n\t\t\t} else if (data && Array.isArray(data.items)) {\r\n\t\t\t\tentries = data.items as T[];\r\n\t\t\t\tif (typeof data.total === 'number') this.total = data.total;\r\n\t\t\t\tif ('next' in data) this.next = data.next;\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error('DataProvider.list() must return an array or an object with an \"items\" array.');\r\n\t\t\t}\r\n\r\n\t\t\t// 5. Execute afterLoad hook (class method)\r\n\t\t\tentries = await this.afterLoad(entries);\r\n\r\n\t\t\t// 6. Execute plugins afterList\r\n\t\t\tconst afterPluginResult = await PluginManager.runHook('onAfterList', this, entries, this.#entity);\r\n\t\t\tentries = afterPluginResult.value as T[];\r\n\r\n\t\t\t// 7. Set items\r\n\t\t\tthis.setItems(entries, !shouldUpdate);\r\n\r\n\t\t\t// 8. Emit load and post:load events\r\n\t\t\tthis.trigger('load', {\r\n\t\t\t\titems: entries,\r\n\t\t\t\ttotal: this.total,\r\n\t\t\t\tnext: this.next,\r\n\t\t\t});\r\n\t\t\tthis.trigger('post:load', {\r\n\t\t\t\titems: entries,\r\n\t\t\t\ttotal: this.total,\r\n\t\t\t\tnext: this.next,\r\n\t\t\t});\r\n\r\n\t\t\treturn entries;\r\n\t\t} catch (error) {\r\n\t\t\tthrow error;\r\n\t\t} finally {\r\n\t\t\tthis.fetching = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Sets multiple items at once.\r\n\t * Required by IReactiveContainer interface.\r\n\t *\r\n\t * @param data - Array of items or Map of id->item\r\n\t * @param clear - If true, clears existing items first\r\n\t */\r\n\tsetItems(data: T[] | Map<ItemId, T>, clear = false): void {\r\n\t\tif (clear) this.#map.clear();\r\n\t\tif (!data) return;\r\n\r\n\t\tif (data instanceof Map) {\r\n\t\t\tfor (const [id, item] of data) {\r\n\t\t\t\tthis.#map.set(id, item);\r\n\t\t\t}\r\n\t\t} else if (Array.isArray(data)) {\r\n\t\t\tdata.forEach(item => {\r\n\t\t\t\tconst itemData = item as unknown as Record<string, unknown>;\r\n\t\t\t\tconst id = itemData.id as ItemId;\r\n\r\n\t\t\t\tif (this.#map.has(id)) {\r\n\t\t\t\t\t// Update existing item\r\n\t\t\t\t\tconst existingItem = this.#map.get(id)!;\r\n\t\t\t\t\texistingItem.setValue(itemData);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Create new item instance\r\n\t\t\t\tconst instance = new this.#item({ parent: this, ...itemData });\r\n\t\t\t\tthis.#map.set(id, instance);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.warn('Collection.setItems: Data must be an array or Map');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.trigger('items.changed', { items: this.items });\r\n\t\tthis.trigger('change');\r\n\t}\r\n\r\n\t/**\r\n\t * Adds items without clearing existing ones.\r\n\t *\r\n\t * @param data - Array of items to add\r\n\t */\r\n\taddItems(data: T[]): void {\r\n\t\tthis.setItems(data, false);\r\n\t}\r\n\r\n\t/**\r\n\t * Sets properties on the collection.\r\n\t * Overrides parent to ensure change event is triggered.\r\n\t */\r\n\tset(data: Partial<Collection<T, P>>): { updated: boolean } {\r\n\t\tconst result = super.set(data);\r\n\t\tthis.trigger('change');\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets properties of the collection.\r\n\t */\r\n\tgetProperties(): { items: T[] } {\r\n\t\treturn { items: this.items };\r\n\t}\r\n\r\n\t/**\r\n\t * Gets serialized properties of all items.\r\n\t * Useful for saving to backend or JSON export.\r\n\t */\r\n\tgetItemProperties(): unknown[] {\r\n\t\tconst items: unknown[] = [];\r\n\t\tfor (const item of this.items) {\r\n\t\t\titems.push(item.serialize());\r\n\t\t}\r\n\t\treturn items;\r\n\t}\r\n\r\n\t/**\r\n\t * Validates a new registry against the collection's filters and, if it matches,\r\n\t * creates a new item with the registry data and adds it to the data map.\r\n\t *\r\n\t * @param {object} registry - The new registry data to be checked and potentially added.\r\n\t */\r\n\tonNewRegistry(registry: Record<string, unknown>): void {\r\n\t\t// Check if the registry matches the filters\r\n\t\tif (this.matchesFilters(registry)) {\r\n\t\t\t// Create a new item instance with the registry data\r\n\t\t\tconst newItem = new this.#item(registry);\r\n\r\n\t\t\t// Add the new item to the map, using its id as the key\r\n\t\t\tthis.#map.set(registry.id as ItemId, newItem);\r\n\r\n\t\t\t// Optionally trigger an event to notify that a new item was added\r\n\t\t\tthis.trigger('items.changed', { item: newItem });\r\n\t\t\tthis.trigger('change');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Deletes multiple items by ID, calling the provider if available.\r\n\t *\r\n\t * @param ids - Single ID or array of IDs to delete\r\n\t * @returns Array of booleans indicating success for each item\r\n\t */\r\n\tasync deleteAsync(ids: ItemId | ItemId[]): Promise<boolean[]> {\r\n\t\tconst toDelete = Array.isArray(ids) ? ids : [ids];\r\n\t\tconst existingItems = toDelete.map(id => this.#map.get(id)).filter(Boolean) as T[];\r\n\r\n\t\tif (this.#provider && typeof this.#provider.deleteMany === 'function') {\r\n\t\t\tawait this.#provider.deleteMany(toDelete);\r\n\t\t}\r\n\r\n\t\treturn await Promise.all(existingItems.map(item => item.delete({ skipProvider: true })));\r\n\t}\r\n\r\n\t/**\r\n\t * Handles registry deletion events.\r\n\t */\r\n\tonRegistryDeleted(registry: Record<string, unknown>): void {\r\n\t\tif (!this.#map.has(registry.id as ItemId)) return;\r\n\t\tthis.#map.delete(registry.id as ItemId);\r\n\r\n\t\tthis.trigger('change');\r\n\t\tthis.trigger('items.changed');\r\n\t}\r\n\r\n\t/**\r\n\t * Validates if a registry matches the stored filters, including support for AND and OR logical operators.\r\n\t * The #filters object contains filtering criteria that are evaluated here.\r\n\t *\r\n\t * @param {object} registry - The data of the registry to be checked.\r\n\t * @returns {boolean} - Returns true if the registry matches all filter criteria; otherwise, false.\r\n\t */\r\n\tprivate matchesFilters(registry: Record<string, unknown>): boolean {\r\n\t\tconst filters = this.#filters;\r\n\t\tif (!filters) return true; // If no filters are set, assume it matches\r\n\r\n\t\t// Helper function to evaluate a single condition\r\n\t\tconst evaluateCondition = (property: string, criteria: Record<string, unknown>): boolean => {\r\n\t\t\tconst registryValue = registry[property];\r\n\t\t\treturn Object.entries(criteria).every(([operator, value]) => {\r\n\t\t\t\tswitch (operator) {\r\n\t\t\t\t\tcase 'equals':\r\n\t\t\t\t\t\treturn registryValue === value;\r\n\t\t\t\t\tcase 'not':\r\n\t\t\t\t\t\treturn registryValue !== value;\r\n\t\t\t\t\tcase 'in':\r\n\t\t\t\t\t\treturn Array.isArray(value) && value.includes(registryValue);\r\n\t\t\t\t\tcase 'notIn':\r\n\t\t\t\t\t\treturn !Array.isArray(value) || !value.includes(registryValue);\r\n\t\t\t\t\tcase 'contains':\r\n\t\t\t\t\t\treturn typeof registryValue === 'string' && registryValue.includes(value as string);\r\n\t\t\t\t\tcase 'startsWith':\r\n\t\t\t\t\t\treturn typeof registryValue === 'string' && registryValue.startsWith(value as string);\r\n\t\t\t\t\tcase 'endsWith':\r\n\t\t\t\t\t\treturn typeof registryValue === 'string' && registryValue.endsWith(value as string);\r\n\t\t\t\t\tcase 'gt':\r\n\t\t\t\t\t\treturn (registryValue as number) > (value as number);\r\n\t\t\t\t\tcase 'gte':\r\n\t\t\t\t\t\treturn (registryValue as number) >= (value as number);\r\n\t\t\t\t\tcase 'lt':\r\n\t\t\t\t\t\treturn (registryValue as number) < (value as number);\r\n\t\t\t\t\tcase 'lte':\r\n\t\t\t\t\t\treturn (registryValue as number) <= (value as number);\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.warn(`Unknown filter operator: ${operator}`);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// General function to evaluate conditions with logical operators\r\n\t\tconst evaluateConditions = (\r\n\t\t\tconditions: Record<string, Record<string, unknown>>[],\r\n\t\t\tlogic: 'every' | 'some'\r\n\t\t): boolean =>\r\n\t\t\tconditions[logic](condition =>\r\n\t\t\t\tObject.entries(condition).every(([property, criteria]) =>\r\n\t\t\t\t\tevaluateCondition(property, criteria as Record<string, unknown>)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t// Evaluate AND conditions\r\n\t\tif (filters.AND && !evaluateConditions(filters.AND as unknown as Record<string, Record<string, unknown>>[], 'every')) return false;\r\n\r\n\t\t// Evaluate OR conditions\r\n\t\tif (filters.OR && !evaluateConditions(filters.OR as unknown as Record<string, Record<string, unknown>>[], 'some')) return false;\r\n\r\n\t\t// Evaluate direct conditions (outside of AND/OR)\r\n\t\treturn Object.entries(filters)\r\n\t\t\t.filter(([key]) => key !== 'AND' && key !== 'OR')\r\n\t\t\t.every(([property, criteria]) => evaluateCondition(property, criteria as Record<string, unknown>));\r\n\t}\r\n\r\n\t// ==========================================\r\n\t// Utility Methods\r\n\t// ==========================================\r\n\r\n\t/**\r\n\t * Finds an item matching the predicate.\r\n\t */\r\n\tfind(predicate: (item: T) => boolean): T | undefined {\r\n\t\tfor (const item of this.#map.values()) {\r\n\t\t\tif (predicate(item)) return item;\r\n\t\t}\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\t/**\r\n\t * Filters items matching the predicate.\r\n\t */\r\n\tfilter(predicate: (item: T) => boolean): T[] {\r\n\t\treturn this.items.filter(predicate);\r\n\t}\r\n\r\n\t/**\r\n\t * Maps items to a new array.\r\n\t */\r\n\tmapItems<R>(callback: (item: T) => R): R[] {\r\n\t\treturn this.items.map(callback);\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if some items match the predicate.\r\n\t */\r\n\tsome(predicate: (item: T) => boolean): boolean {\r\n\t\treturn this.items.some(predicate);\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if all items match the predicate.\r\n\t */\r\n\tevery(predicate: (item: T) => boolean): boolean {\r\n\t\treturn this.items.every(predicate);\r\n\t}\r\n}\r\n"],"names":["ReactiveModel","item","RegistryFactory","PluginManager"],"mappings":"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","x_google_ignoreList":[0]}